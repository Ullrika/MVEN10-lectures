<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ullrika Sahlin">
<meta name="dcterms.date" content="2024-09-02">

<title>MVEN10-lectures - Course content</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">
      MVEN10-lectures
      </li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">MVEN10-lectures</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Sept 2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/Course introduction.html" class="sidebar-item-text sidebar-link" target="&quot;_blank&quot;">
 <span class="menu-text">Course introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/Intro lecture.html" class="sidebar-item-text sidebar-link" target="&quot;_blank&quot;">
 <span class="menu-text">Introduction to risk assessment with human and ecological endpoints</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pages/intro_case_studies.html" class="sidebar-item-text sidebar-link" target="&quot;_blank&quot;">
 <span class="menu-text">Introduction to case studies</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#course-syllabus" id="toc-course-syllabus" class="nav-link active" data-scroll-target="#course-syllabus">Course Syllabus</a>
  <ul class="collapse">
  <li><a href="#knowledge-and-understanding" id="toc-knowledge-and-understanding" class="nav-link" data-scroll-target="#knowledge-and-understanding">Knowledge and understanding</a></li>
  <li><a href="#competence-and-skills" id="toc-competence-and-skills" class="nav-link" data-scroll-target="#competence-and-skills">Competence and skills</a></li>
  <li><a href="#judgement-and-approach" id="toc-judgement-and-approach" class="nav-link" data-scroll-target="#judgement-and-approach">Judgement and approach</a></li>
  </ul></li>
  <li><a href="#course-content" id="toc-course-content" class="nav-link" data-scroll-target="#course-content">Course content</a></li>
  <li><a href="#subcourses-in-mven10" id="toc-subcourses-in-mven10" class="nav-link" data-scroll-target="#subcourses-in-mven10">Subcourses in MVEN10</a>
  <ul class="collapse">
  <li><a href="#examination" id="toc-examination" class="nav-link" data-scroll-target="#examination">“Examination”</a></li>
  <li><a href="#exercises-and-assignments" id="toc-exercises-and-assignments" class="nav-link" data-scroll-target="#exercises-and-assignments">Exercises and Assignments</a></li>
  <li><a href="#project-work" id="toc-project-work" class="nav-link" data-scroll-target="#project-work">Project work</a></li>
  </ul></li>
  <li><a href="#course-material" id="toc-course-material" class="nav-link" data-scroll-target="#course-material">Course material</a>
  <ul class="collapse">
  <li><a href="#general-about-risk-and-risk-assessment" id="toc-general-about-risk-and-risk-assessment" class="nav-link" data-scroll-target="#general-about-risk-and-risk-assessment">General about risk and risk assessment</a></li>
  <li><a href="#health-risk-assessment" id="toc-health-risk-assessment" class="nav-link" data-scroll-target="#health-risk-assessment">Health risk assessment</a></li>
  <li><a href="#environmental-risk-assessment" id="toc-environmental-risk-assessment" class="nav-link" data-scroll-target="#environmental-risk-assessment">Environmental risk assessment</a></li>
  </ul></li>
  <li><a href="#guiding-study-questions" id="toc-guiding-study-questions" class="nav-link" data-scroll-target="#guiding-study-questions">Guiding study questions</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Course content</h1>
<p class="subtitle lead">MVEN10 Risk Assessment in Environment and Public Health</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ullrika Sahlin </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 2, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="course-syllabus" class="level2">
<h2 class="anchored" data-anchor-id="course-syllabus">Course Syllabus</h2>
<p>The general aim of the course is that the student, on completion of the course, should have advanced principles and methods to identify and assess risks in the fields of environment, nature and health. The course includes risks for humans and other organisms connected to exposure to chemicals and causes and risks connected to the extinction of species. Insights into and understanding of need of scientifically based risk communication to different target groups and the importance of knowledge about risk perception to create relevant risk assessments and communication of risks in society are included as important components. The student should be able to understand on completion of the course describe and work with common risk models or tools that are used in the areas of nature, environment and health and have an understanding of how they are used to inform decision-making.</p>
<section id="knowledge-and-understanding" class="level3">
<h3 class="anchored" data-anchor-id="knowledge-and-understanding">Knowledge and understanding</h3>
<p>On completion of the course, the student should be able to:</p>
<ul>
<li><p>give an account of and independently apply principles and methods for risk analysis and common risk assessment models in environment, nature and health</p></li>
<li><p>give an account of needs and examples of scientifically based risk communication in society and its relation to risk perception</p></li>
<li><p>give an account of research and development for risk assessment in nature,environment and health</p></li>
</ul>
</section>
<section id="competence-and-skills" class="level3">
<h3 class="anchored" data-anchor-id="competence-and-skills">Competence and skills</h3>
<p>On completion of the course, the student should be able to:</p>
<ul>
<li><p>use common methods for risk assessment in the fields of nature, environment and health to within given time frames, and in collaboration with experts,identify and analyse risks</p></li>
<li><p>present result of risk assessments in different applications</p></li>
<li><p>discuss different forms of communication of risks and uncertainty in society</p></li>
</ul>
</section>
<section id="judgement-and-approach" class="level3">
<h3 class="anchored" data-anchor-id="judgement-and-approach">Judgement and approach</h3>
<p>On completion of the course, the student should be able to:</p>
<ul>
<li><p>critically reflect on the possibilities and limitations of risk assessments and its role in risk management in society</p></li>
<li><p>discuss ethical aspects at assessment, management and communication of risks</p></li>
<li><p>suggest needs of additional knowledge to carry out risk assessments in environment, nature and health and take responsibility for their development of knowledge</p></li>
</ul>
</section>
</section>
<section id="course-content" class="level2">
<h2 class="anchored" data-anchor-id="course-content">Course content</h2>
<p>The course deals with:</p>
<ul>
<li><p>identification, assessment, evaluation and management of risks connected to human and other organisms’ exposure to chemicals and risks connected to extinction of species</p></li>
<li><p>methods in risk analysis such as problem formulation, hazard assessment, statistical modelling, exposure modelling, dose-response modelling, modelling of dispersion of diseases (epidemiology), modelling of uptake, renewal, distributions and secretion of poisons in living organisms (toxicokinetics) and expert assessment and principles and methods for uncertainty analysis</p></li>
<li><p>risk evaluation, which includes how to in a structured way can evaluate and make tradeoffs to support decision-making</p></li>
<li><p>risk management, which includes how different societal actors prevent risks, sets regulatory thresholds and communicate risks. In addition the importance to connect risk perception in risk management and communication of risks is included.</p></li>
</ul>
</section>
<section id="subcourses-in-mven10" class="level2">
<h2 class="anchored" data-anchor-id="subcourses-in-mven10">Subcourses in MVEN10</h2>
<section id="examination" class="level3">
<h3 class="anchored" data-anchor-id="examination">“Examination”</h3>
<p>7.5 hp Grading scale: Fail, Pass, Pass with distinction</p>
</section>
<section id="exercises-and-assignments" class="level3">
<h3 class="anchored" data-anchor-id="exercises-and-assignments">Exercises and Assignments</h3>
<p>4.5 hp Grading scale: Fail, Pass</p>
</section>
<section id="project-work" class="level3">
<h3 class="anchored" data-anchor-id="project-work">Project work</h3>
<p>3.0 hp Grading scale: Fail, Pass</p>
</section>
</section>
<section id="course-material" class="level2">
<h2 class="anchored" data-anchor-id="course-material">Course material</h2>
<section id="general-about-risk-and-risk-assessment" class="level3">
<h3 class="anchored" data-anchor-id="general-about-risk-and-risk-assessment">General about risk and risk assessment</h3>
<section id="burgmanbook-seminars" class="level4">
<h4 class="anchored" data-anchor-id="burgmanbook-seminars">Burgman/Book seminars</h4>
<p>All material from the course book by Burgman covered at the book seminars. This means that you should skip the chapters that we did not cover in the seminars.</p>
<p>Here I extracted the terms from the glossary in the book that is applicable for the course:</p>
<p>ADI, acute effect, ALARP principle, algorithm, ambiguity, anchoring, AUC, assessment endpoints, averaging, Bayesian analysis, Bayesian credible intervals, behavioural aggregation, belief, benchmark dose, benefit-cost analysis, beta distribution, binomial distribution, bioconcentration factor, bounded rationality, bounds (statistical), calibration, calibration of models, carrying capacity, central tendency, chance, chronic effects, coefficient of variation, cognitive availability, conceptual models, conditional probabilities (statistics), confidence, confidence intervals, confusion matrix, consensus, context, convergence, correlation (statistical), correlation coefficient, cost-benefit analysis, credibility, credible intervals, cumulative probabilities, decision, decision tables, Delphi technique, demographic variation, demographic stochasticity, density dependence, dependency of a variable (statistical), detectable effect sizes, deterministic model, deterministic sensitivity, dichotomoy, disagreement, dispersal, EC50, ecotoxicology, effect size, endpoints, environmental aspect, environmental effect, environmental uncertainty (in PVAs), enzyme, epistemic uncertainty, equipossible/equiprobable, evidence, expected dose, expected utility, expert, exponential distribution, exposure pathway, false negative/false positive, fecundity (PVA), final acute value, fixed probability, fixed value, free-riding, frequentist statistics, fugacity, goodness of fit, hazard, hazard index, hazard matrices, hazard probability rank, hazard quotient, hedonic pricing, hormesis, hydrolysis, hypothesis, illusofy certainty, incertitude, indeterminacy, indicators, information disagreement, interval arithmetic, interval probabilities, kent scales, LCxx, likelihood, linguistic uncertainty, LOAEL/LOEL, LOEC, management goals, MaxiMin strategy, measurement endpoint, measurement error, median, metapopulation, minimum expected population size, minimum viable population, mixing or averaging probabilities, model averaging, model uncertainty, monitoring, Monte Carlo analysis, motivational bias, multi-criteria decision analysis, natural death (in behavioural aggregation), natural variation, negotiation, NOEL/NOEC, normal distribution, normative expertise, normative theories (of rational consensus), numerical aggregation, odds ration, partitioning coefficient, paternalistic model for stakeholder involvement, photolysis, plausibility, point estiamtes, Poisson distribution, Poisson process, Population viability analysis, possibility, posterior probabilities, power (statistical), precautionary principle, prediction intervals, principle of insufficient reason, prior probabilities, probability, probability density function, problem formulation, procedures guide (for expert elicitation), process model, prosecutor’s fallacy public participation, QSAR, quantiles, quartiles, range (statisical), rank correlations, rational consensus, reasonable maximum exposure, reference dose, reference lottery, regret, relative risk, risk, risk analysis, risk assessment, risk aversion, risk efficiency, risk equity, risk ranking, robust decisions, ROC, scenario analysis, scenarios, semantic disagreement, sensitivity analysis (for models), sigmodial curve, snowballing, Spearman rank correlation, stakeholder, stakeholder expert, stochastic models, strategic risk managment, stressors, SAR, subjective belief, substantive expertise, sure bounds, systematic error, tendency, theory-based inference, transformation, triangular distribution, type I/type II errors, underspecificity, uniform distribution, utilities, utility function, utility-based criteria, vagueness, validation/verification (of a model), variability, volatilization, zero risk strategies.</p>
</section>
<section id="material-from-exercises" class="level4">
<h4 class="anchored" data-anchor-id="material-from-exercises">Material from exercises</h4>
<p>Principles and methods for uncertainty analysis that we have worked with during exercises. Go back and read the exercises.</p>
</section>
<section id="additional-lecture-material-provided-by-ullrika-during-the-course" class="level4">
<h4 class="anchored" data-anchor-id="additional-lecture-material-provided-by-ullrika-during-the-course">Additional lecture material provided by Ullrika during the course</h4>
<p>See page on canvas Lecture Types of assessment</p>
</section>
<section id="lectures-about-risk-uncertainty-and-decision-making" class="level4">
<h4 class="anchored" data-anchor-id="lectures-about-risk-uncertainty-and-decision-making">Lectures about risk, uncertainty and decision making</h4>
<p>Go over the lectures, they were recorded and you have access to presentations and your notes.</p>
<p>Individual decision making - how does it work? what is a good choice? How is risk perception linked with individual decision making? Mention some factors explaining differences in risk perception.</p>
<p>Societal decision making - what is the difference to individual decision making?</p>
<p>Rational and bounded rationality - difference?</p>
<p>When and how to consider uncertainty in assessments - what did they say about this?</p>
<p>When and how to consider uncertainty in decision making - what did they say about this? What did you learn from the akrylamid case study regarding risk communication?</p>
</section>
<section id="actual-risk-assessments" class="level4">
<h4 class="anchored" data-anchor-id="actual-risk-assessments">Actual risk assessments</h4>
<ul>
<li><p>All the assessments considered in the case study seminars</p></li>
<li><p>All the assessment considered in the individual projects</p></li>
<li><p>Read the assessments and see the concepts and methods used in practice</p></li>
<li><p>You will have access to the final reports by the groups.</p></li>
<li><p>You have written your own report and reviewed a report by another student.</p></li>
</ul>
</section>
</section>
<section id="health-risk-assessment" class="level3">
<h3 class="anchored" data-anchor-id="health-risk-assessment">Health risk assessment</h3>
<p>This includes assessment on human endpoints. In the course, we primary focus is exposure to chemicals.</p>
<ul>
<li><p>Relevant material from the general parts</p></li>
<li><p>Material from lectures and literature seminars</p></li>
<li><p>Health risk assessment exercise</p></li>
</ul>
</section>
<section id="environmental-risk-assessment" class="level3">
<h3 class="anchored" data-anchor-id="environmental-risk-assessment">Environmental risk assessment</h3>
<p>In this course environmental risk assessment covers</p>
<ul>
<li><p>Red list assessments (classification of status of species)</p></li>
<li><p>Pest risk assessments (introduction, establishment, spread and impact of pests or invasive species)</p></li>
<li><p>Ecological/Environmental risk assessment (effect on ecological systems from chemical exposure)</p></li>
<li><p>Relevant material from the general parts</p></li>
</ul>
<p>See page on canvas Lecture Types of assessment</p>
</section>
</section>
<section id="guiding-study-questions" class="level2">
<h2 class="anchored" data-anchor-id="guiding-study-questions">Guiding study questions</h2>
<p>NOTE: THIS IS NOT AN EXHAUSTIVE LIST OF POSSIBLE QUESTIONS THAT CAN BE ASKED AT THE EXAM.</p>
<p>This list of guiding study questions has been constructed from the course syllabus (kursplanen)</p>
<ul>
<li><p>Give an account of (i.e.&nbsp;describe or explain) <strong>a principle or method brought up during the course</strong>, e.g.&nbsp;EC50, MOET, model averaging or Monte Carlo simulation!</p></li>
<li><p>Give an account of common risk assessment models used for <strong>any of the types of assessments covered in the course</strong> (Human risk assessment related to exposure to chemicals, Ecological/Environmental risk assessment, Pest risk assessment, Red list assessment)!</p></li>
<li><p>Give an account of factors explaining differences in risk perception!</p></li>
<li><p>Give an account of recommendations to guide risk communication!</p></li>
<li><p>Give an account of challenges in implementing uncertainty analysis, ensuring public trust and applying the precautionary principle!</p></li>
<li><p>Evaluate <strong>an application of an assessment</strong> (material will be provided) in light of guidance for that assessment! Were guidelines followed? Reflect on limitations of the assessment. Suggest possible modifications of the assessment.</p></li>
<li><p>Evaluate on the presentation of result of <strong>an application of an assessment</strong> (material will be provided) in light of recommendations for communication. Were guidelines/recommendations followed. Suggest improvements for communicating results in the assessment. Suggestion communication to the public.</p></li>
<li><p>Comment on the role of <strong>an application of an assessment</strong> (material will be provided) to support a particular risk management decision. How is information from the assessment used to support the decision making? What is the decision problem. Suggest how to handle uncertainty in this particular decision problem.</p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>